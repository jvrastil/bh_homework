<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Welcome to {{ title }}!
  </h1>
</div>
<div class="container">
  <label>Selected weapon configuration:</label>
  <div class="row">
    <div class="col-md-4">Name:</div>
    <div class="col-md-8">{{weapon.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4">Type:</div>
    <div class="col-md-8">{{weapon.rifle?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4">Optics:</div>
    <div class="col-md-8">{{weapon.optics?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4">Ammunition:</div>
    <div class="col-md-8">{{weapon.ammunition?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-8">
      <button type="text" (click)="showDialog()" pButton icon="pi pi-info-circle" label="Configure"></button>
    </div>
  </div> 
</div>


<p-dialog [(visible)]="display" 
          [modal]="true" 
          [responsive]="true" 
          [width]="550" 
          [height]="700" 
          [maximizable]="false" 
          [baseZIndex]="10000" 
          [closeOnEscape]="true" 
          [dismissableMask]="true">
    <p-header>Weapon configuration dialog</p-header>
    <div class="ui-g">
        <div class="ui-g-12 ui-md-12">
            <div class="ui-g-4">
                Weapon name
            </div>
            <div class="ui-g-8">
                <input type="text" id="name" pInputText [(ngModel)]="weapon.name">
            </div>
        </div>
    </div>        
    <div style="width:100%; height:250px;">
      <img src="{{weapon.rifle?.image}}" style="width:100%; position:relative;"/> 
      <img src="{{weapon.optics?.image}}" style="width: 80px;position:relative;top: -220px;right: -430px;"/> 
      <img src="{{weapon.ammunition?.image}}" style="width: 80px;position:relative;top: -60px;right: 70px;"/> 
    </div>

    <div class="ui-g">
        <div class="ui-g-12 ui-md-12">
            <div class="ui-g-4">
                Rifle
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="rifleItems" [(ngModel)]="weapon.rifle" [style]="{'width':'100%'}">
                    <ng-template let-rifle pTemplate="selectedItem"> 
                        <img src="{{rifle.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{rifle.label}}</span>
                    </ng-template> 
                    <ng-template let-rifle pTemplate="item"> 
                        <img src="{{rifle.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -18px;position: relative;">{{rifle.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>

            <div class="ui-g-4">
                Optics
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="opticsItems" [(ngModel)]="weapon.optics" [style]="{'width':'100%'}">
                    <ng-template let-optic pTemplate="selectedItem"> 
                        <img src="{{optic.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{optic.label}}</span>
                    </ng-template> 
                    <ng-template let-optic pTemplate="item"> 
                        <img src="{{optic.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -18px;position: relative;">{{optic.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>

            <div class="ui-g-4">
                Ammunition
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="ammunitionItems" [(ngModel)]="weapon.ammunition" [style]="{'width':'100%'}">
                    <ng-template let-item pTemplate="selectedItem"> 
                        <img src="{{item.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{item.label}}</span>
                    </ng-template> 
                    <ng-template let-item pTemplate="item"> 
                        <img src="{{item.icon}}" style="width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -18px;position: relative;">{{item.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>            
        </div>
    </div>



        <p-footer>
            <button type="button" pButton icon="pi pi-check" (click)="saveWeapon()" label="Confirm"></button>
            <button type="button" pButton icon="pi pi-close" (click)="cancel()" label="Cancel" class="ui-button-secondary"></button>
        </p-footer>
</p-dialog>

