<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Welcome to {{ title }}!
  </h1>
</div>
<div class="container">
  <label>Selected weapon configuration:</label>
  <div class="row">
    <div class="col-md-4" style="width: 150px;">Name:</div>
    <div class="col-md-8" style="width: auto;">{{weapon.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4" style="width: 150px;">Type:</div>
    <div class="col-md-8" style="width: auto;">{{weapon.rifle?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4" style="width: 150px;">Optics:</div>
    <div class="col-md-8" style="width: auto;">{{weapon.optics?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4" style="width: 150px;">Ammunition:</div>
    <div class="col-md-8" style="width: auto;">{{weapon.ammunition?.name}}</div>
  </div>
  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-8">
      <button type="text" (click)="showDialog()" pButton icon="pi pi-info-circle" label="Configure"></button>
    </div>
  </div> 
</div>


<p-dialog [(visible)]="display" 
          [modal]="true" 
          [responsive]="true" 
          [width]="550" 
          [height]="700" 
          [maximizable]="false" 
          [baseZIndex]="10000" 
          [closeOnEscape]="true" 
          [dismissableMask]="true">
    <p-header>Weapon configuration dialog</p-header>
    <div class="ui-g">
        <div class="ui-g-12 ui-md-12">
            <div class="ui-g-4" style="margin-top:7px;">
                Weapon name
            </div>
            <div class="ui-g-8">
                <input type="text" id="name" pInputText [(ngModel)]="weapon.name">
            </div>
        </div>
    </div>        
    <div class="container">
      <div class="row" style="max-height:100px;">
        <div class="col-md-8 col-8"></div>
        <div class="col-md-4 col-4">
          <img src="{{weapon.optics?.image}}" style="height:auto; max-width:100%; max-height:100%;"/>
        </div>
      </div>
      <div class="row" style="max-height:130px;">
        <div class="col-md-12">
          <img src="{{weapon.rifle?.image}}" style="height:auto; display:block; margin-left:auto; margin-right:auto; max-height:100%;"/> 
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 col-4">
          <img src="{{weapon.ammunition?.image}}" style="height:auto; max-width:100%; max-height:100%;"/> 
        </div>
        <div class="col-md-8 col-8" ></div>
      </div>
    </div>

    <div class="ui-g">
        <div class="ui-g-12 ui-md-12">
            <div class="ui-g-4">
                Rifle
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="rifleItems" [(ngModel)]="weapon.rifle" [style]="{'width':'100%'}">
                    <ng-template let-rifle pTemplate="selectedItem"> 
                        <img src="{{rifle.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{rifle.label}}</span>
                    </ng-template> 
                    <ng-template let-rifle pTemplate="item"> 
                        <img src="{{rifle.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -23px;position: relative;">{{rifle.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>

            <div class="ui-g-4">
                Optics
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="opticsItems" [(ngModel)]="weapon.optics" [style]="{'width':'100%'}">
                    <ng-template let-optic pTemplate="selectedItem"> 
                        <img src="{{optic.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{optic.label}}</span>
                    </ng-template> 
                    <ng-template let-optic pTemplate="item"> 
                        <img src="{{optic.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -23px;position: relative;">{{optic.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>

            <div class="ui-g-4">
                Ammunition
            </div>
            <div class="ui-g-8">
                <p-dropdown [options]="ammunitionItems" [(ngModel)]="weapon.ammunition" [style]="{'width':'100%'}">
                    <ng-template let-item pTemplate="selectedItem"> 
                        <img src="{{item.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <span style="vertical-align:middle;right: -16px;position: relative;">{{item.label}}</span>
                    </ng-template> 
                    <ng-template let-item pTemplate="item"> 
                        <img src="{{item.icon}}" style="height:26px;width:46px;position:relative;top:1px;left:5px"/> 
                        <div style="vertical-align:middle;right: -60px;top: -23px;position: relative;">{{item.label}}</div>
                    </ng-template>                    
                </p-dropdown>              
            </div>            
        </div>
    </div>

    <div style="float: right">
        <button type="button" pButton icon="pi pi-check" (click)="saveWeapon()" label="Confirm" style="margin-right:5px;"></button>
        <button type="button" pButton icon="pi pi-close" (click)="cancel()" label="Cancel" class="ui-button-secondary"></button>
    </div>
</p-dialog>

